# Subagent Routing Rules

Fast discovery:

- Use `scout` to find files, entry points, and quick summaries.

Deep reasoning / design:

- Use `architect` for hard debugging, architecture tradeoffs, and tricky performance issues.
- Use `refactor-coach` for incremental refactor plans.

Implementation:

- Use `single-file-implementer` for single-file changes (bug fixes, small features, isolated edits).
- Use `implementer` for multi-file implementation (features spanning files, coordinated changes, integration work).
- Use `test-runner` for failing tests.
- Use `lint-fixer` for lint/format/typecheck fixes.

Quality gates:

- Use `code-reviewer` after significant diffs.

Security:

- Use `security-auditor` for threat modeling and security review.
- Use `secret-scanner` for quick secret/config scans.
- Use `red-team` for adversarial security analysis.

Ops:

- Use `incident-commander` for incident coordination and stabilization.
- Use `runbook-writer` for operational runbooks.

Writing:

- Use `release-comms` for PR descriptions, changelogs, commit messages, and release notes.

Performance:

- Use `perf-profiler` for performance investigations and bottleneck analysis.
- Use `flaky-test-hunter` for flaky test isolation and fixes.

Data & Analytics:

- Use `sql-analyst` for SQL query design and optimization.
- Use `analytics-instrumentation` for adding analytics events safely.
- Use `observability-engineer` for logs/metrics/traces improvements.

CI/CD & Dependencies:

- Use `ci-fixer` for CI pipeline failures.
- Use `dependency-auditor` for dependency security audits (read-only).
- Use `dependency-upgrader` for safe dependency upgrades.
- Use `feature-flag-manager` for feature flag integration.

Documentation:

- Use `adr-writer` for Architecture Decision Records.
- Use `onboarding-guide-writer` for onboarding documentation.
- Use `architecture-diagrammer` for Mermaid diagrams.

Localization:

- Use `i18n-localization` for i18n/l10n tasks.
- Use `translation-reviewer` for translation quality review.

Triage & Routing:

- Use `bug-triage` for quick bug categorization.
- Use `router` for task routing to specialist agents.

Incident Communication:

- Use `incident-comms` for incident status updates (Slack/StatusPage).

Spring/Java/Kotlin:

- Use `spring-architect` for Spring Boot/Cloud architecture design and microservices patterns.
- Use `java-kotlin-expert` for Java/Kotlin code implementation, best practices, and idioms.
- Use `reactive-specialist` for WebFlux/Reactor reactive programming and non-blocking patterns.
- Use `spring-integration-expert` for Spring Integration, messaging patterns, and EIP.

Frontend:

- Use `react-nextjs-expert` for React/Next.js development, hooks, App Router, SSR/SSG, and RSC.
- Use `vue-nuxt-expert` for Vue 3/Nuxt 3 development, Composition API, Pinia, and Nitro.
- Use `typescript-expert` for TypeScript type design, generics, utility types, and strict mode.
